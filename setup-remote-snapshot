#!/bin/bash

#****************************************************************************************************#
#                                 SETUP-REMCHAIN-REMOTE-SNAPSHOTS                                    #
#****************************************************************************************************#

#----------------------------------------------------------------------------------------------------#
# CONFIGURATION VARIABLES                                                                            #
#----------------------------------------------------------------------------------------------------#

create_snapshot_folder="/root/data/snapshots/"

#----------------------------------------------------------------------------------------------------#
# INSTALL REMCHAIN SNAPSHOT DEPENDENCIES                                                             #
#----------------------------------------------------------------------------------------------------#

sudo apt-get install jq -y

#----------------------------------------------------------------------------------------------------#
# CREATE DIRECTORY IF IT DOESN'T EXIST                                                               #
#----------------------------------------------------------------------------------------------------#

if [ ! -d "$create_snapshot_folder" ]
then
  mkdir -p "$create_snapshot_folder"
fi

#----------------------------------------------------------------------------------------------------#
# MAIN PART OF THE SCRIPT                                                                            #
#----------------------------------------------------------------------------------------------------#

sudo rm -rf restore-snapshot -P $create_snapshot_folder
sudo wget https://github.com/remblock/REMChain-Remote-Snapshots/raw/master/restore-remote-snapshot -P $create_snapshot_folder
chmod +x $create_snapshot_folder/restore-snapshot
